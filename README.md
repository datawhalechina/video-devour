# ğŸ½ï¸ VideoDevour | æ™ºèƒ½è§†é¢‘åˆ°æŠ¥å‘Šç”Ÿæˆå™¨

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

> ğŸ¯ **æ ¸å¿ƒç†å¿µ**ï¼šåƒæ‰è§†é¢‘ï¼Œè¾“å‡ºä¸€ä»½å›¾æ–‡å¹¶èŒ‚çš„æŠ¥å‘Šï¼  
> ğŸš€ åŸºäº ASR + VLM æŠ€æœ¯çš„æ™ºèƒ½è§†é¢‘åˆ†æå·¥å…·ï¼Œèƒ½å¤Ÿå°†ä»»ä½•è§†é¢‘"åå™¬"å¹¶ç”ŸæˆåŒ…å«å…³é”®å¸§å›¾ç‰‡ã€å†…å®¹æ‘˜è¦å’Œè§†é¢‘å‰ªè¾‘çš„ç»“æ„åŒ–æŠ¥å‘Šã€‚

## ğŸ“‹ ç›®å½•

- [ğŸ½ï¸ VideoDevour | æ™ºèƒ½è§†é¢‘åˆ°æŠ¥å‘Šç”Ÿæˆå™¨](#ï¸-videodevour--æ™ºèƒ½è§†é¢‘åˆ°æŠ¥å‘Šç”Ÿæˆå™¨)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [ğŸ¯ é¡¹ç›®ç®€ä»‹](#-é¡¹ç›®ç®€ä»‹)
    - [ğŸ’¡ æ ¸å¿ƒä»·å€¼](#-æ ¸å¿ƒä»·å€¼)
    - [ğŸ¯ åº”ç”¨åœºæ™¯](#-åº”ç”¨åœºæ™¯)
  - [âœ¨ æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½)
    - [ğŸ™ï¸ è¯­éŸ³è¯†åˆ« (ASR)](#ï¸-è¯­éŸ³è¯†åˆ«-asr)
    - [ğŸ“ å¤§çº²ç”Ÿæˆä¸å†…å®¹åŒ¹é…](#-å¤§çº²ç”Ÿæˆä¸å†…å®¹åŒ¹é…)
    - [ğŸ¬ è§†é¢‘ä¸å›¾åƒå¤„ç†](#-è§†é¢‘ä¸å›¾åƒå¤„ç†)
    - [ğŸ“œ æŠ¥å‘Šç”Ÿæˆ](#-æŠ¥å‘Šç”Ÿæˆ)
  - [ğŸ”§ æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„)
  - [ğŸ“¦ å®‰è£…æŒ‡å—](#-å®‰è£…æŒ‡å—)
    - [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
    - [å®‰è£…æ­¥éª¤](#å®‰è£…æ­¥éª¤)
  - [ğŸ›ï¸ æ¨¡å‹æ¦‚è§ˆä¸é…ç½®](#ï¸-æ¨¡å‹æ¦‚è§ˆä¸é…ç½®)
  - [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
    - [æ‰§è¡Œå¤„ç†æµç¨‹](#æ‰§è¡Œå¤„ç†æµç¨‹)
  - [ğŸ—ï¸ é¡¹ç›®ç»“æ„](#ï¸-é¡¹ç›®ç»“æ„)
  - [ğŸ¤ è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
  - [ğŸ“„ è®¸å¯è¯](#-è®¸å¯è¯)

## ğŸ¯ é¡¹ç›®ç®€ä»‹

**VideoDevourï¼ˆåƒæ‰è§†é¢‘ï¼‰** æ˜¯ä¸€ä¸ªä¸“æ³¨äºä»è§†é¢‘ä¸­æå–å’Œç”Ÿæˆç»“æ„åŒ–æŠ¥å‘Šçš„æ™ºèƒ½å·¥å…·ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è‡ªåŠ¨å®Œæˆä»åŸå§‹è§†é¢‘åˆ°é«˜è´¨é‡å›¾æ–‡æŠ¥å‘Šçš„è½¬æ¢è¿‡ç¨‹ã€‚

### ğŸ’¡ æ ¸å¿ƒä»·å€¼
> **"åƒæ‰è§†é¢‘ï¼Œè¾“å‡ºä¸€ä»½æŠ¥å‘Š"**  
> å°†ä»»ä½•è§†é¢‘å†…å®¹å®Œå…¨"æ¶ˆåŒ–"ï¼Œæå–å…¶æ ¸å¿ƒè¯­éŸ³å’Œè§†è§‰ä¿¡æ¯ï¼Œç”Ÿæˆä¸€ä»½åŒ…å«æ–‡æœ¬å¤§çº²ã€å…³é”®å¸§å›¾ç‰‡å’Œè§†é¢‘å‰ªè¾‘çš„é«˜è´¨é‡æŠ¥å‘Šã€‚

### ğŸ¯ åº”ç”¨åœºæ™¯
- ğŸ“š **å­¦ä¹ ç¬”è®°ç”Ÿæˆ**ï¼šå°†çº¿ä¸Šè¯¾ç¨‹æˆ–æ•™å­¦è§†é¢‘ï¼Œè‡ªåŠ¨æ•´ç†æˆå¸¦ç« èŠ‚ã€é…å›¾å’Œæ–‡å­—è®°å½•çš„ç¬”è®°ã€‚
- ğŸ“ **ä¼šè®®è®°å½•æ•´ç†**ï¼šå¿«é€Ÿå°†ä¼šè®®å½•åƒè½¬åŒ–ä¸ºå¸¦ç« èŠ‚æ‘˜è¦ã€å‘è¨€è®°å½•å’Œå…³é”®ç”»é¢çš„ä¼šè®®çºªè¦ã€‚
- ğŸ¬ **å†…å®¹åˆ›ä½œç´ æ**ï¼šä»é•¿è§†é¢‘ä¸­è‡ªåŠ¨æå–å…³é”®ç‰‡æ®µå’Œå›¾ç‰‡ï¼Œä¸ºäºŒæ¬¡åˆ›ä½œæä¾›ç´ æã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ™ï¸ è¯­éŸ³è¯†åˆ« (ASR)
- **ç²¾å‡†è¯­éŸ³è½¬å†™**ï¼šé›†æˆ **FunASR Paraformer V2** æ¨¡å‹ï¼Œæä¾›é«˜å‡†ç¡®åº¦çš„è¯­éŸ³è¯†åˆ«ï¼Œå¹¶è‡ªåŠ¨æ·»åŠ æ ‡ç‚¹ã€‚
- **è¯´è¯äººåˆ†ç¦»**ï¼šèƒ½å¤Ÿè¯†åˆ«å¹¶åŒºåˆ†è§†é¢‘ä¸­çš„ä¸åŒè¯´è¯äººã€‚
- **ç²¾ç¡®æ—¶é—´æˆ³**ï¼šä¸ºæ¯ä¸€å¥å¯¹è¯æä¾›æ¯«ç§’çº§ç²¾åº¦çš„å¼€å§‹å’Œç»“æŸæ—¶é—´æˆ³ã€‚

### ğŸ“ å¤§çº²ç”Ÿæˆä¸å†…å®¹åŒ¹é…
- **æ™ºèƒ½ç”Ÿæˆå¤§çº²**ï¼šåˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åˆ†æè¯­éŸ³è½¬å†™å†…å®¹ï¼Œè‡ªåŠ¨ç”Ÿæˆç¬¦åˆè§†é¢‘é€»è¾‘ç»“æ„çš„Markdownå±‚çº§å¤§çº²ã€‚
- **å†…å®¹ç²¾å‡†åŒ¹é…**ï¼šé€šè¿‡æ–‡æœ¬ç›¸ä¼¼åº¦ç®—æ³•ï¼Œå°†æ¯ä¸€æ®µå¯¹è¯æ–‡æœ¬å—ï¼Œç²¾ç¡®åœ°åŒ¹é…åˆ°å¯¹åº”çš„å¤§çº²ç« èŠ‚ä¸‹ã€‚

### ğŸ¬ è§†é¢‘ä¸å›¾åƒå¤„ç†
- **è‡ªåŠ¨è§†é¢‘åˆ‡ç‰‡**ï¼šæ ¹æ®ç”Ÿæˆçš„å¤§çº²ç« èŠ‚ï¼Œä½¿ç”¨ **FFmpeg** è‡ªåŠ¨å°†åŸå§‹è§†é¢‘åˆ†å‰²æˆå¤šä¸ªç‹¬ç«‹çš„ç‰‡æ®µã€‚
- **å…³é”®å¸§æå–**ï¼šä»æ¯ä¸ªè§†é¢‘ç‰‡æ®µä¸­ï¼ŒæŒ‰å›ºå®šé€Ÿç‡ï¼ˆå¦‚1fpsï¼‰æå–æ‰€æœ‰å¸§å›¾ç‰‡ã€‚
- **å›¾åƒå»é‡**ï¼šé€šè¿‡å›¾åƒç›¸ä¼¼åº¦å¯¹æ¯”ï¼Œå»é™¤å†—ä½™å’Œé«˜åº¦ç›¸ä¼¼çš„å¸§ï¼Œä¿ç•™æœ‰æ•ˆè§†è§‰ä¿¡æ¯ã€‚
- **VLMæ™ºèƒ½ç­›é€‰**ï¼šåˆ©ç”¨è§†è§‰è¯­è¨€æ¨¡å‹ï¼ˆVLMï¼‰å¯¹å»é‡åçš„å€™é€‰å¸§è¿›è¡Œè¯„åˆ†ï¼Œä¸ºæ¯ä¸ªç« èŠ‚æŒ‘é€‰å‡ºæœ€åŒ¹é…ã€æœ€å…·ä»£è¡¨æ€§çš„ä¸€å¼ å…³é”®å¸§ã€‚

### ğŸ“œ æŠ¥å‘Šç”Ÿæˆ
- **å›¾æ–‡æŠ¥å‘Š**ï¼šæ•´åˆæ–‡æœ¬å¤§çº²å’ŒVLMç­›é€‰å‡ºçš„å…³é”®å¸§ï¼Œç”Ÿæˆä¸€ä»½å›¾æ–‡å¹¶èŒ‚çš„ `detailed_outline.md`ã€‚
- **æœ€ç»ˆç²¾åŠ å·¥**ï¼šå†æ¬¡è°ƒç”¨LLMï¼Œå¯¹å›¾æ–‡å¤§çº²è¿›è¡Œæœ€ç»ˆçš„æ¶¦è‰²å’Œæ‰©å†™ï¼Œç”Ÿæˆä¸€ä»½è¯­è¨€æ›´æµç•…ã€å†…å®¹æ›´ä¸°å¯Œçš„ `final_report.md`ã€‚

## ğŸ”§ æŠ€æœ¯æ¶æ„

| ç»„ä»¶ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|------|----------|------|
| **æ ¸å¿ƒæµç¨‹** | Python | é¡¹ç›®çš„ä¸»è¦ç¼–ç¨‹è¯­è¨€ã€‚ |
| **è¯­éŸ³è¯†åˆ«** | FunASR (Paraformer V2) | é˜¿é‡Œå·´å·´å¼€æºçš„é«˜æ€§èƒ½è¯­éŸ³è¯†åˆ«æ¨¡å‹ã€‚ |
| **å¤§æ¨¡å‹äº¤äº’** | Camel-AI | ä¸€ä¸ªç”¨äºä¸å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å’Œè§†è§‰è¯­è¨€æ¨¡å‹ï¼ˆVLMï¼‰äº¤äº’çš„è½»é‡çº§æ¡†æ¶ã€‚ |
| **è§†é¢‘/å›¾åƒå¤„ç†** | FFmpeg, OpenCV | ç”¨äºè§†é¢‘åˆ‡åˆ†ã€å¸§æå–å’Œå›¾åƒå¤„ç†ã€‚ |
| **æ–‡æœ¬åŒ¹é…**| Sentence Transformers | ç”¨äºè®¡ç®—æ–‡æœ¬è¯­ä¹‰ç›¸ä¼¼åº¦ã€‚ |

## ğŸ“¦ å®‰è£…æŒ‡å—

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- FFmpeg
- CUDA (å¯é€‰, ç”¨äºGPUåŠ é€Ÿ)

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/VideoDevour.git
cd VideoDevour

# 2. åˆ›å»ºå¹¶æ¿€æ´»Pythonè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv
source .venv/bin/activate  # On Windows, use: .venv\Scripts\activate

# 3. å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹
pip install -r requirements.txt
```
*æ³¨æ„ï¼š`requirements.txt` åº”åŒ…å« `funasr`, `torch`, `camel-ai`, `opencv-python-headless` ç­‰æ‰€æœ‰å¿…éœ€çš„åº“ã€‚*

## ğŸ›ï¸ æ¨¡å‹æ¦‚è§ˆä¸é…ç½®
```
# config.py

# LLM é…ç½®
LLM_MODEL_TYPE = "deepseek-chat"
LLM_API_URL = "https://api.deepseek.com"
LLM_TEMPERATURE = 0.4
LLM_TOKEN_COUNTER = 128000

# VLM é…ç½®
VLM_MODEL_TYPE = "doubao-seed-1-6-flash-250828"
VLM_API_URL = "https://ark.cn-beijing.volces.com/api/v3"
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

é¡¹ç›®ç°åœ¨æä¾›äº†å®Œæ•´çš„Webç•Œé¢ï¼ŒåŒ…æ‹¬å‰ç«¯å’Œåç«¯æœåŠ¡ã€‚å‡ºäºå®‰å…¨ä¿æŠ¤ï¼Œéœ€è¦æå‰å°†**API_KEY**æ³¨å…¥ç¯å¢ƒå˜é‡ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ã€‚

### ç¯å¢ƒå˜é‡é…ç½®
```bash
echo "export LLM_API_KEY=your-llm-api-key" >> ~/.bashrc
echo "export VLM_API_KEY=your-vlm-api-key" >> ~/.bashrc
source ~/.bashrc
```

### å¯åŠ¨æœåŠ¡

#### 1. å¯åŠ¨åç«¯æœåŠ¡
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œä½¿ç”¨ `uv` æ¿€æ´»è™šæ‹Ÿç¯å¢ƒå¹¶å¯åŠ¨åç«¯ï¼š
```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
uv sync
source .venv/bin/activate

# å¯åŠ¨åç«¯æœåŠ¡
cd backend
uvicorn api.main:app --reload --host 0.0.0.0 --port 8000
```

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:8000` å¯åŠ¨ã€‚

#### 2. å¯åŠ¨å‰ç«¯æœåŠ¡
åœ¨æ–°çš„ç»ˆç«¯çª—å£ä¸­ï¼Œå¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼š
```bash
cd frontend
npm run dev
```

å‰ç«¯æœåŠ¡å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

### Webç•Œé¢ä½¿ç”¨

1. **ä¸Šä¼ è§†é¢‘**ï¼šåœ¨ä¸»é¡µé¢é€‰æ‹©æˆ–æ‹–æ‹½è§†é¢‘æ–‡ä»¶è¿›è¡Œä¸Šä¼ 
2. **å¤„ç†ç›‘æ§**ï¼šä¸Šä¼ åè‡ªåŠ¨è·³è½¬åˆ°å¤„ç†é¡µé¢ï¼Œå®æ—¶æ˜¾ç¤ºå¤„ç†è¿›åº¦å’Œè€—æ—¶
3. **æŸ¥çœ‹æŠ¥å‘Š**ï¼šå¤„ç†å®Œæˆåè‡ªåŠ¨è·³è½¬åˆ°æŠ¥å‘Šé¡µé¢ï¼ŒæŸ¥çœ‹ç”Ÿæˆçš„å›¾æ–‡æŠ¥å‘Š
4. **å†å²è®°å½•**ï¼šåœ¨å†å²è®°å½•é¡µé¢ç®¡ç†æ‰€æœ‰å·²å¤„ç†çš„è§†é¢‘ä»»åŠ¡

### å‘½ä»¤è¡Œä½¿ç”¨ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦ç›´æ¥é€šè¿‡å‘½ä»¤è¡Œå¤„ç†è§†é¢‘ï¼š

```bash
python backend/algorithm/main.py "path/to/your/video.mp4"
```

**ç¤ºä¾‹ï¼š**
å¤„ç†ä½äº `input_video` æ–‡ä»¶å¤¹ä¸‹çš„ `minvideo.mp4`ï¼š
```bash
python backend/algorithm/main.py "input_video/minvideo.mp4"
```

ç¨‹åºæ‰§è¡Œå®Œæ¯•åï¼Œæ‰€æœ‰è¾“å‡ºæ–‡ä»¶ï¼ŒåŒ…æ‹¬æ—¥å¿—ã€ASRç»“æœã€è§†é¢‘åˆ‡ç‰‡ã€å…³é”®å¸§å›¾ç‰‡å’Œæœ€ç»ˆæŠ¥å‘Šï¼Œéƒ½å°†ä¿å­˜åœ¨ `output` ç›®å½•ä¸‹ï¼Œä¸€ä¸ªä»¥è§†é¢‘åå’Œæ—¶é—´æˆ³å‘½åçš„æ–°æ–‡ä»¶å¤¹ä¸­ã€‚

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
videodevour/
â”œâ”€â”€ ğŸ“ backend/
â”‚   â”œâ”€â”€ ğŸ“ algorithm/         # æ ¸å¿ƒå¤„ç†ç®—æ³•å’Œæµç¨‹
â”‚   â”‚   â”œâ”€â”€ pipeline.py       # å°è£…äº†ä»å¤´åˆ°å°¾çš„å®Œæ•´å¤„ç†æµç¨‹
â”‚   â”‚   â”œâ”€â”€ main.py           # å‘½ä»¤è¡Œå¯åŠ¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ config.py         # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ data_processor.py   # ASRæ•°æ®åå¤„ç†
â”‚   â”‚   â”œâ”€â”€ llm_handler.py      # LLMäº¤äº’å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ vlm_handler.py      # VLMäº¤äº’å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ image_processor.py  # å›¾åƒå¤„ç†ä¸ç­›é€‰
â”‚   â”‚   â”œâ”€â”€ video_handler.py    # è§†é¢‘å¤„ç†
â”‚   â”‚   â””â”€â”€ outline_handler.py  # å¤§çº²å¤„ç†ä¸æŠ¥å‘Šç”Ÿæˆ
â”‚   â”œâ”€â”€ ğŸ“ api/               # Web API æ¥å£
â”‚   â”‚   â”œâ”€â”€ main.py           # FastAPI ä¸»åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ routes/           # API è·¯ç”±
â”‚   â”‚   â””â”€â”€ models/           # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ ğŸ“ devour/
â”‚       â””â”€â”€ asr_engine_paraformer_v2.py # ASRå¼•æ“å®ç°
â”œâ”€â”€ ğŸ“ frontend/              # React å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/    # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ api/           # API è°ƒç”¨
â”‚   â”‚   â””â”€â”€ ğŸ“ utils/         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ package.json          # å‰ç«¯ä¾èµ–é…ç½®
â”‚   â””â”€â”€ vite.config.js        # Vite æ„å»ºé…ç½®
â”œâ”€â”€ ğŸ“ input_video/            # å­˜æ”¾å¾…å¤„ç†çš„è§†é¢‘æ–‡ä»¶
â”œâ”€â”€ ğŸ“ output/                 # å­˜æ”¾æ‰€æœ‰å¤„ç†ç»“æœ
â”œâ”€â”€ ğŸ“ models/                 # (å¯é€‰) å­˜æ”¾æœ¬åœ°ASR/VLMæ¨¡å‹æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ requirements.txt       # Python ä¾èµ–
â”œâ”€â”€ ğŸ“„ pyproject.toml         # uv é¡¹ç›®é…ç½®
â””â”€â”€ ğŸ“„ README.md             # é¡¹ç›®æ–‡æ¡£
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·å‚è€ƒä»¥ä¸‹æ­¥éª¤ï¼š

1. ğŸ´ Fork æœ¬é¡¹ç›®
2. ğŸŒŸ åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. ğŸ’» æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. ğŸ“¤ æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. ğŸ”„ åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚